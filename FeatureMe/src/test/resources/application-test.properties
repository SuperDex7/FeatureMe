# Test Profile Configuration
# This file ensures tests use a separate test database
# Tests will NOT affect your main development/production database

# IMPORTANT: Exclude MongoDB and Redis auto-configuration in tests
# This prevents tests from trying to connect to databases
# Tests use mocked repositories instead
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.cloud.aws.AwsAutoConfiguration

# Disable MongoDB index creation in tests (indexes won't be created anyway)
spring.data.mongodb.auto-index-creation=false

# Disable scheduled tasks in tests (prevents background jobs from running)
spring.task.scheduling.enabled=false

# Disable actual AWS S3 calls (use mocks in tests)
spring.cloud.aws.enabled=false

# Disable email sending in tests
resend.api.key=test-key

# JWT test secret (safe for tests only)
jwt.secret=test-secret-key-for-testing-only-do-not-use-in-production
jwt.expiration=86400000

# Redis test configuration (optional - tests will skip if not available)
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.database=1

